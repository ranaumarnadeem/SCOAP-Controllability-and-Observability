"""
File handling utilities and path management.
"""

import os
from pathlib import Path


def get_project_root():
    """Get the project root directory."""
    return Path(__file__).parent.parent.parent.parent


def get_project_paths():
    """Get standardized paths for the project directories."""
    root = get_project_root()
    return {
        'root': root,
        'data': root / 'data',
        'input': root / 'data' / 'input',
        'parsed': root / 'data' / 'parsed', 
        'results': root / 'data' / 'results',
        'graphs': root / 'data' / 'graphs',
        'dag_output': root / 'data' / 'dag_output',
        'reconvergence_output': root / 'data' / 'reconvergence_output',
        'src': root / 'src',
        'examples': root / 'examples'
    }


def ensure_directory(path):
    """Ensure a directory exists, create if it doesn't."""
    os.makedirs(path, exist_ok=True)
    return path


def get_data_path(subdir):
    """Get path to a data subdirectory."""
    paths = get_project_paths()
    return paths['data'] / subdir